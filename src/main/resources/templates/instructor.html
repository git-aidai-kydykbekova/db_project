<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Instructor Management</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
<div class="container">
    <h1>Instructor Management</h1>

    <div class="form-group">
        <label for="instructorName">Instructor Name</label>
        <input type="text" class="form-control" id="instructorName" placeholder="Enter instructor name">
        <button id="getInstructorByName" class="btn btn-primary mt-2">Get Instructor By Name</button>
    </div>

    <div class="form-group">
        <button id="getAllInstructors" class="btn btn-primary mt-2">Get All Instructors</button>
    </div>

    <div class="form-group">
        <label for="newInstructorName">New Instructor Name</label>
        <input type="text" class="form-control" id="newInstructorName" placeholder="Enter new instructor name">
        <label for="newInstructorBio">New Instructor Bio</label>
        <input type="text" class="form-control" id="newInstructorBio" placeholder="Enter new instructor bio">
        <button id="createInstructor" class="btn btn-success mt-2">Create Instructor</button>
    </div>

    <div class="form-group">
        <label for="updateInstructorName">Update Instructor Name</label>
        <input type="text" class="form-control" id="updateInstructorName" placeholder="Enter updated instructor name">
        <label for="updateInstructorBio">Update Instructor Bio</label>
        <input type="text" class="form-control" id="updateInstructorBio" placeholder="Enter updated instructor bio">
        <button id="updateInstructor" class="btn btn-warning mt-2">Update Instructor</button>
    </div>

    <div id="result" class="mt-4"></div>
</div>

<script>
    $(document).ready(function() {
        $('#getInstructorByName').click(function() {
            let instructorName = $('#instructorName').val();
            $.get(`/instructor/get-instructor-by-name/${instructorName}`, function(data) {
                $('#result').html(`<div class="alert alert-info">${JSON.stringify(data)}</div>`);
            }).fail(function(response) {
                $('#result').html(`<div class="alert alert-danger">Failed to get Instructor: ${response.responseJSON.message}</div>`);
            });
        });

        $('#getAllInstructors').click(function() {
            $.get(`/instructor/get-all-instructor`, function(data) {
                $('#result').html(`<div class="alert alert-info">${JSON.stringify(data)}</div>`);
            }).fail(function(response) {
                $('#result').html(`<div class="alert alert-danger">Failed to get all Instructors: ${response.responseJSON.message}</div>`);
            });
        });

        $('#createInstructor').click(function() {
            let instructorName = $('#newInstructorName').val();
            let instructorBio = $('#newInstructorBio').val();
            $.ajax({
                url: '/instructor/create-instructor',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ name: instructorName, bio: instructorBio }),
                success: function(data) {
                    $('#result').html(`<div class="alert alert-success">${data.message}</div>`);
                },
                error: function(response) {
                    $('#result').html(`<div class="alert alert-danger">Failed to create Instructor: ${response.responseJSON.message}</div>`);
                }
            });
        });

        $('#updateInstructor').click(function() {
            let instructorName = $('#updateInstructorName').val();
            let instructorBio = $('#updateInstructorBio').val();
            $.ajax({
                url: '/instructor/update-instructor',
                type: 'PUT',
                contentType: 'application/json',
                data: JSON.stringify({ name: instructorName, bio: instructorBio }),
                success: function(data) {
                    $('#result').html(`<div class="alert alert-success">${data.message}</div>`);
                },
                error: function(response) {
                    $('#result').html(`<div class="alert alert-danger">Failed to update Instructor: ${response.responseJSON.message}</div>`);
                }
            });
        });
    });
</script>
</body>
</html>
